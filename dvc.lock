schema: '2.0'
stages:
  load_dataset:
    cmd: python ./src/data/load_dataset.py
    deps:
    - path: ./src/data/load_dataset.py
      hash: md5
      md5: 08dccc5e925fcaa44980a0fe3b17cc40
      size: 1834
    params:
      params.yaml:
        data_source.drive: 
          https://drive.google.com/file/d/1CW_oiaBAKnDsH45iLUn6J5APUR0-7EqN/view?usp=drive_link
        load_dataset.file_name: creditcard
        load_dataset.raw_data: /data/raw
    outs:
    - path: ./data/raw/creditcard.csv
      hash: md5
      md5: b1a68fb0cafa51b6e91dbed518cf7dee
      size: 358392
  make_dataset:
    cmd: python ./src/data/make_dataset.py
    deps:
    - path: ./data/raw/creditcard.csv
      hash: md5
      md5: b1a68fb0cafa51b6e91dbed518cf7dee
      size: 358392
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: 28799fa20d6c4fb33336f475b30d1e5b
      size: 2324
    params:
      params.yaml:
        make_dataset.processed_data: /data/processed
        make_dataset.random_state: 42
        make_dataset.test_split: 0.3
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: bafa0d8e7d7351715e254c66e7eaf577
      size: 107680
    - path: ./data/processed/train.csv
      hash: md5
      md5: 215ca9170804e15ffb7c642e31cc6e67
      size: 250834
  train_model:
    cmd: python ./src/models/train_model.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: bafa0d8e7d7351715e254c66e7eaf577
      size: 107680
    - path: ./data/processed/train.csv
      hash: md5
      md5: 215ca9170804e15ffb7c642e31cc6e67
      size: 250834
    - path: ./src/models/train_model.py
      hash: md5
      md5: 5a81a95cf3af9e1b883e9d639b91606f
      size: 3189
    params:
      params.yaml:
        train_model.max_depth: 7
        train_model.model_loc: /models
        train_model.n_estimators: 10
        train_model.seed: 42
    outs:
    - path: ./models/model.joblib
      hash: md5
      md5: 9cf747444f308a3cea853856d0633a66
      size: 8537
