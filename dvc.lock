schema: '2.0'
stages:
  load_dataset:
    cmd: python ./src/data/load_dataset.py
    deps:
    - path: ./src/data/load_dataset.py
      hash: md5
      md5: 4d94d4ddadbf713be52a047ada826167
      size: 1824
    params:
      params.yaml:
        data_source.drive: 
          https://drive.google.com/file/d/1CW_oiaBAKnDsH45iLUn6J5APUR0-7EqN/view?usp=drive_link
        load_dataset.file_name: creditcard
        load_dataset.raw_data: /data/raw
    outs:
    - path: ./data/raw/creditcard.csv
      hash: md5
      md5: b1a68fb0cafa51b6e91dbed518cf7dee
      size: 358392
  make_dataset:
    cmd: python ./src/data/make_dataset.py
    deps:
    - path: ./data/raw/creditcard.csv
      hash: md5
      md5: b1a68fb0cafa51b6e91dbed518cf7dee
      size: 358392
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: 41ec65a69fd678c7c0c89222ba0d6bb6
      size: 2295
    params:
      params.yaml:
        load_dataset.file_name: creditcard
        load_dataset.raw_data: /data/raw
        make_dataset.processed_data: /data/processed
        make_dataset.random_state: 42
        make_dataset.test_split: 0.2
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 2aa050232efae4ae3e59d40388692082
      size: 71851
    - path: ./data/processed/train.csv
      hash: md5
      md5: 732d4d8d88b83b9bb651eb366ad2332f
      size: 286663
  train_model:
    cmd: python ./src/models/train_model.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 2aa050232efae4ae3e59d40388692082
      size: 71851
    - path: ./data/processed/train.csv
      hash: md5
      md5: 732d4d8d88b83b9bb651eb366ad2332f
      size: 286663
    - path: ./src/models/train_model.py
      hash: md5
      md5: f255227355602052e40a255a7d0c6fbc
      size: 3220
    params:
      params.yaml:
        base.target_col: Class
        make_dataset.processed_data: /data/processed
        train_model.max_depth: 7
        train_model.model_loc: /models
        train_model.n_estimators: 10
        train_model.seed: 42
    outs:
    - path: ./models/model.joblib
      hash: md5
      md5: aa1d3d3c815540b1a52b77535c63a621
      size: 8697
  predict_model:
    cmd: python ./src/models/predict_model.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 2aa050232efae4ae3e59d40388692082
      size: 71851
    - path: ./data/processed/train.csv
      hash: md5
      md5: 732d4d8d88b83b9bb651eb366ad2332f
      size: 286663
    - path: ./src/models/predict_model.py
      hash: md5
      md5: 40995d51ae5db09940987eb0700973c9
      size: 2574
    params:
      params.yaml:
        base.target_col: Class
        make_dataset.processed_data: /data/processed
        train_model.model_loc: /models
